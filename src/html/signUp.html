<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/authentication.css">
    <title> Sign Up</title>
  </head>
  <body>
    <a href="../index.html">
      <nav>Homepage</nav>
    </a>
    <h1>Sign up form</h1>
    <form action="register">
      <div class="headingsContainer">
        <h3>Sign up</h3>
        <p>Sign up with your email, username and password</p>
      </div>
      <div class="mainContainer">
        
    <script src="../script/index.js"></script>
        <label for="E-mail">Email</label>
        <input type="text"  pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$" placeholder="Enter E-mail" name="email" id="email" required>
        
        <br><br>

       <label for="Username">Username</label>
        <input type="text" placeholder="Enter Username" name="username" id="username" required>
        
        <br><br>
       
        <label for="Password">Password</label>
        <input type="password" pattern="[0-9a-zA-Z]{4,24}"placeholder="Enter Password" name="password" id="password" onkeyup="validate(); required">

        <br><br>

        <label for="confirmPassword">Confirm Password</label>
        <input type="password" pattern="[0-9a-zA-Z]{4,24}" placeholder="Enter Password" name="confirmPassword" id="confirmPassword" onkeyup="validate(); required">

        <span id="Message"></span>
        <button id="create" type="submit" value="submit" onclick="validate();">Sign Up</button>
        <button id="cancel" type="button" value="cancel" onclick="required();">Cancel</button>
      </div>
    </form>
    <script>
      function required() {
        const email = document.getElementById("email").value;
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const confirmPassword = document.getElementById("confirmPassword").value;   
        
        if ((email || username || password || confirmPassword)) {
          if (confirm("Are you sure you wish to cancel register?") == true) return history.back();
        } else {
          return history.back();
        } 
      }

      function validate() {
        const email = document.getElementById("email").value;
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const confirmPassword = document.getElementById("confirmPassword").value;
        
        if (password != confirmPassword) {
         document.getElementById("Message").style.color = "Red";
         document.getElementById("Message").innerHTML = "Passwords do NOT match!";
         alert("please fill all the fields");
         document.getElementById("create").disabled = true;
        } else {
          document.getElementById("Message").style.color = "Green";
          document.getElementById("Message").innerHTML = "Passwords match!";
          alert("Your response is submitted");
          document.getElementById("create").disabled = false;

        }
        console.log(password, confirmPassword)
      }
    </script>
  </body>
</html>