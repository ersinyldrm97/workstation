<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/style.css">
    <title> Sign Up</title>
  </head>
  <body>
    <h1>Sign up form</h1>
    <form action="register">
      <div class="headingsContainer">
        <h3>Sign up</h3>
        <p>Sign up with your email, username and password</p>
      </div>
      <div class="mainContainer">
        <label for="E-mail">Email</label>
        <input type="text"  pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$" placeholder="Enter E-mail" name="email" id="email">
        
        <br><br>

       <label for="Username">Username</label>
        <input type="text" placeholder="Enter Username" name="username" id="username">
        
        <br><br>
       
        <label for="Password">Password</label>
        <input type="password" pattern="[0-9a-zA-Z]{4,24}"placeholder="Enter Password" name="password" id="password" onkeyup="validatePassword();">

        <br><br>

        <label for="confirmPassword">Confirm Password</label>
        <input type="password" pattern="[0-9a-zA-Z]{4,24}" placeholder="Enter Password" name="confirmPassword" id="confirmPassword" onkeyup="validatePassword();">

        <span id="Message"></span>
        <button type="submit" value="submit" onclick="validatePassword();" >Sign Up</button>
        <button type="button" value="Cancel" onclick="required();">Cancel</button>
      </div>
    </form>
    <script>
      function required() {
        const email = document.getElementById("email").value;
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const confirmPassword = document.getElementById("confirmPassword").value;   
        
        if ((email || username || password || confirmPassword)) {
          if (confirm("Are you sure you wish to cancel register?") == true)return history.back();
        } else {
          return history.back();
        } 
      }

      function validatePassword() {
        const email = document.getElementById('email').value;
        const username = document.getElementById('username').value;
        const password = document.getElementById("password").value;
        const confirmPassword = document.getElementById("confirmPassword").value;
        
        if (email || !username || !password || !confirmPassword) return ("You need to enter your information for sign up!!");

        if (password != confirmPassword) {
         document.getElementById("Message").style.color = "Red";
         document.getElementById("Message").innerHTML = "Passwords do NOT match!";
        } else {
          document.getElementById("Message").style.color = "Green";
          document.getElementById("Message").innerHTML = "Passwords match!";
        }
      }
    </script>
  </body>
</html>